{"version":3,"sources":["./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.html"],"names":[],"mappings":"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","file":"src_app_tab2_tab2_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { Tab2Page } from './tab2.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Tab2Page,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class Tab2PageRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab2Page } from './tab2.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    Tab2PageRoutingModule\r\n  ],\r\n  declarations: [Tab2Page]\r\n})\r\nexport class Tab2PageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { ViacepProvider } from 'src/providers/viacep/viacep';\r\n\r\ndeclare var google: any;\r\n@Component({\r\n  selector: 'app-tab2',\r\n  templateUrl: 'tab2.page.html',\r\n  styleUrls: ['tab2.page.scss'],\r\n})\r\nexport class Tab2Page {\r\n  \r\n  map: any;\r\n  cep: String = '';\r\n  endereco: any = [];\r\n  vazio = '';\r\n  coordenates:any = {};\r\n\r\n  @ViewChild('map', { read: ElementRef, static: false }) mapRef: ElementRef;\r\n\r\n  constructor(public navCtrl: NavController, private viacep: ViacepProvider, public http: HttpClient) {}\r\n\r\n  getEndereco(ev){\r\n    this.cep = ev.target.value;\r\n\r\n    if(this.cep.length > 7){\r\n      this.viacep.callService(this.cep.trim())\r\n      .subscribe(\r\n          data =>{\r\n            this.endereco = data;\r\n            let lugar: any = [];\r\n            lugar.push(data.logradouro);\r\n            // lugar.push(data.bairro);\r\n            lugar.push(data.localidade);\r\n            // lugar.push(data.cep);\r\n            // lugar.push(data.uf);\r\n\r\n\r\n            this.getCoordenates(lugar.join(\" \"));\r\n          }\r\n      );\r\n    }\r\n  }\r\n\r\n  getCoordenates(endereco){\r\n    endereco = window.encodeURIComponent(endereco);\r\n    \r\n    let url = `https://nominatim.openstreetmap.org/search?q=${endereco}&format=json&polygon=1&addressdetails=1`;\r\n\r\n    this.http.get(url).subscribe((data:any)=>{\r\n      data = data[0];\r\n      this.coordenates = { lat: parseFloat(data.lat), lng: parseFloat(data.lon) };\r\n      this.initMap(this.coordenates);\r\n    })\r\n  }\r\n\r\n  initMap(coordenates){\r\n\r\n    const map = new google.maps.Map(\r\n      document.getElementById(\"map\") as HTMLElement,\r\n      {\r\n        zoom: 15,\r\n        center: coordenates,\r\n      }\r\n    );\r\n\r\n    const marker = new google.maps.Marker({\r\n      position: coordenates,\r\n      map: map,\r\n    });\r\n  }\r\n}\r\n","export default \".padding {\\n  padding: 2rem;\\n}\\n\\n#map {\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKIiwiZmlsZSI6InRhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhZGRpbmd7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG59XHJcblxyXG4jbWFwe1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59Il19 */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Consulta CEP\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n\\r\\n  <ion-grid class=\\\"padding\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-searchbar class=\\\"pesquisa\\\" type=\\\"number\\\" [(ngModel)]=\\\"this.cep\\\"\\r\\n          (keyup)=\\\"getEndereco($event)\\\"></ion-searchbar>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\r\\n        <ion-list class=\\\"padding\\\">\\r\\n          <ion-label>Dados:</ion-label>\\r\\n          <ion-item>\\r\\n            <ion-label>Rua: {{this.endereco.logradouro}}</ion-label>\\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n            <ion-label>Bairro: {{this.endereco.bairro}}</ion-label>\\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n            <ion-label>Cidade: {{this.endereco.localidade}}</ion-label>\\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n            <ion-label>Estado: {{this.endereco.uf}}</ion-label>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\r\\n        <ion-label *ngIf=\\\"this.coordenates.lat == undefined\\\">Nenhum endere√ßo encontrado</ion-label>\\r\\n        <div #map id=\\\"map\\\"></div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}